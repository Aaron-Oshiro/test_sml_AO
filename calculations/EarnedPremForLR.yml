unique_name: EarnedPremForLR
object_type: metric_calc
label: EarnedPremForLR
description: >-
  Earned premium used for Loss Ratio calculations. No development point filter
  manipulation; which should be appled by the calling measure. If filtered by
  both Calendar and Exposure, returns BLANK() to avoid ambiguous interpretation.
expression: >-
  0 /*IF ( ISCROSSFILTERED ( 'Calendar Period'[Cal Month] ), CALCULATE ( SUM (
  Premium[Premium_Amt] ), ALLEXCEPT ( 'Amount Measure', 'Amount Measure'[Total]
  ), 'Amount Measure'[Total] = "Earned Premium", FILTER ( 'Exposure Period',
  CONTAINS ( VALUES ( 'Calendar Period'[Cal Month] ), 'Calendar Period'[Cal
  Month], 'Exposure Period'[Exposure Month] ) && 'Exposure Period'[Exposure
  Month] <= [MaxAcctMt] && 'Exposure Period'[Exposure Month] <= [MaxIBNRAsOfMt]
  ), ALLEXCEPT ( CAT, CAT[Exposure YEAR] ) ), CALCULATE ( SUM (
  Premium[Premium_Amt] ), ALLEXCEPT ( 'Amount Measure', 'Amount Measure'[Total]
  ), 'Amount Measure'[Total] = "Earned Premium", KEEPFILTERS ( FILTER (
  'Exposure Period', 'Exposure Period'[Exposure Month] <= [MaxIBNRAsOfMt] ) ),
  ALLEXCEPT ( CAT, CAT[Exposure YEAR] ) ) ) TODO: Update with valid MDX
  expression*/
format: \$#,0;(\$#,0);\$#,0
is_hidden: true
